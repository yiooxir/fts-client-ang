<div>
    <div class="row">
        <h2>фирма: {{firm.name}}</h2>
    </div>
    <div class="row" style="margin: 10px;">
        <div class="col-md-3" >
            <div class="input-group">
                <span class="input-group-addon">поиск</span>
                <input type="text" class="form-control" id="inputGroupSuccess3" aria-describedby="inputGroupSuccess3Status">
            </div>
        </div>

        <div class="col-md-3" ng-show="!creating">
            <button type="button" class="btn btn-default" ng-click="creating = true" > Добавить оферту </button>
        </div>

        <div ng-show="creating">
            <div class="col-md-3">
                <input type="text" class="form-control" placeholder="номер оферты" ng-model="num">
            </div>

            <button type="button" class="btn btn-default dropdown-toggle" aria-expanded="false" ng-click="creating = false"> отмена </button>
            <button type="button" class="btn btn-default dropdown-toggle" aria-expanded="false" ng-click="create()"> сохранить </button>

        </div>
    </div>


    <table class="table table-condensed">
        <tr>
            <th style="min-width: 30px;">#</th>
            <th style="min-width: 250px;">Номер оферты</th>
            <th style="min-width: 250px;">Дата создания</th>
            <th style="min-width: 250px;">Системный номер</th>
            <th style="min-width: 250px;">Управление</th>
        </tr>
        <tr ng-repeat="count in counts| orderBy : '-created'">
            <td>{{$index+1}}</td>
            <td><span ng-show="!updating" ng-click="updating = true">{{count.num}}</span>
                <div class="input-group" ng-show="updating">
                    <input type="text" width="5" class="form-control" aria-describedby="basic-addon2"
                           ng-model="count.num"
                           >
                    <span class="input-group-addon" id="basic-addon2"
                          ng-click="update(count._id, count.num)"
                            style="cursor: pointer">
                        сохранить
                    </span>
                </div>
                <!--<input type="text" class="form-control" placeholder="номер"-->
                       <!--ng-model="num"-->
                       <!--ng-show="updating"-->
                       <!--ng-click="update(count._id, num)">-->
            </td>
            <td>{{count.created|date : 'dd.MM.yyyy'}}</td>
            <td>{{count.sysNumber}}</td>
            <td>{{count.name}}</td>
        </tr>
    </table>
</div>
